//Start
//Initialize and declares global variables
var random;
var wins = 0;
var losses = 0;
var stones = [];
var sum = 0;
//Generates main random number between 19-120
var random = Math.floor(Math.random()*102)+19;
console.log(random);
//Send that random number to its specific place in the html
$('#random-text').html(random);

stones.length = 4;
//Generates a random number (1-12) for each element of stones array
for (var i=0;i<stones.length;i++) {
    stones[i]=(Math.floor(Math.random()*12)+1);
    }
    //Put those small random numbers in the stones array
    stones.push(stones[i]);
    console.log(stones);

//Reset
function reset() {
    sum = 0;
    $('#totalStones').html('');
    random = Math.floor(Math.random()*102)+19;
    console.log(random);
    $('#random-text').html(random);

    stones.length = 4;

    for (var i=0;i<stones.length;i++) {
        stones[i]=(Math.floor(Math.random()*12)+1);
        }
        stones.push(stones[i]);
        console.log(stones);
    }

    //Click the crystals. jQuery gets the div where the crystal img is nested and associates it with the click event
    //and with this a function will be called
    $('.stone1').on('click', function () {
     //In each click the random number associated to the crystal will be added to a total   
        sum=sum+stones[0];
        console.log(sum);
        //The sum will the shown on the screeen by getting the sum result and send to the specific h3 (id="totalStones") in the html
        $('#totalStones').html(sum);
        //If the sum is equal to the main random number, the winner function is called
        if (sum === random) {
            winner();
        //If the sum got greater than the main random number, the loser function is called    
        } else if (sum>random) {
            loser();
        }
    })

    $('.stone2').on('click', function () {
        sum=sum+stones[1];
        console.log(sum);
        $('#totalStones').html(sum);
        if (sum === random) {
            winner();
        } else if (sum>random) {
            loser();
        }
    })

    $('.stone3').on('click', function () {
        sum=sum+stones[2];
        console.log(sum);
        $('#totalStones').html(sum);
        if (sum === random) {
            winner();
        } else if (sum>random) {
            loser();
        }
    })

    $('.stone4').on('click', function () {
        sum=sum+stones[3];
        console.log(sum);
        $('#totalStones').html(sum);
        if (sum === random) {
            winner();
        } else if (sum>random) {
            loser();
        }
    })

    //The winner function is called if the sum (generated by stone clicks) is equal the main random number
    function winner() {
        wins++;
        console.log(wins);
        $('#wins').html(" "+wins);
        reset();
    }

    //The loserr function is called if the sum gets greater than the main random number
    function loser() {
        losses++;
        console.log(losses);
        $('#losses').html(" "+losses);
        reset();
    }

